
FUNCTION_BLOCK sablon

VAR_INPUT               // ulazne varijable
	ulazna_varijabla_1 : REAL;
	ulazna_varijabla_2 : REAL;
END_VAR

VAR_OUTPUT              // izlazne varijable
	risk_of_vulnerability : REAL;
END_VAR

FUZZIFY ulazna_varijabla_1
	TERM var1_element_1 := (0, 0) (1, 1) (2, 0);
	TERM var1_element_2 := (1, 0) (2, 1) (3, 0);
END_FUZZIFY

FUZZIFY ulazna_varijabla_2
	TERM var2_element_1 := (0, 0) (1, 1) (2, 0);
	TERM var2_element_2 := (1, 0) (2, 1) (3, 0);
END_FUZZIFY

DEFUZZIFY risk_of_vulnerability
	TERM none := (0,1) (0.5,1) (1,0);
	TERM low := (0,0) (1,1) (3, 1) (4, 0);
	TERM medium := (3,0) (4,1) (6,1) (7, 0);
	TERM high := (6,0) (7,1) (9,1) (10, 0);
	TERM critical := (9,0) (9.5, 1) (10, 1);
	METHOD : COG;		// 'Center Of Gravity' odn. centar mase (koristi se i MM odn. mean max)
	DEFAULT := 0;		// podrazumevana vrednost (ukoliko nijedno pravilo nije aktivirano)
END_DEFUZZIFY

RULEBLOCK blok1
	AND : MIN;			// za konjunkciju se koristi minimum (samim tim sa za disjunkciju koristi maksimum)
	ACT : MIN;			// za zakljuƒçivanje (implikaciju) je izabran minimum (Mamdani implikacija) (osim MIN koristi se i PROD)
	ACCU : MAX;			// za kompoziciju je izabran maksimum (osim MAX koristi se i SUM)

	RULE 1 : IF ulazna_varijabla_1 IS var1_element_1 THEN risk_of_vulnerability IS none;
	RULE 2 : IF ulazna_varijabla_1 IS var1_element_2 AND ulazna_varijabla_2 IS var1_element_1 THEN risk_of_vulnerability IS low;
	RULE 3 : IF ulazna_varijabla_2 IS var1_element_1 THEN risk_of_vulnerability IS none WITH 0.5;
	RULE 4 : IF ulazna_varijabla_2 IS var1_element_2 THEN risk_of_vulnerability IS low WITH 0.5;
END_RULEBLOCK

END_FUNCTION_BLOCK

